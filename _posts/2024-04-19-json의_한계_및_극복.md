---
title: "json의 한계 및 극복"
---

json을 많이 쓰는데, json 자체의 한계에 많이 부딛힌다.

1) 항목의 순서를 보존하는 방법
 json 표준에서 항목의 순서에 대한 보존을 지원하지 않기 때문에 구현체마다 다르다.
 Poco는 관련 내용이 있으나 우리가 쓰는 1.7.9에서는 해당내용이 구현되어있지 않다.
 현대에서 json의 메모리 footprint 사이즈 따위가 뭐가 그리 중요한가. 좀 채워넣지.

2) [] 연산자에 대한 자유로운 지원
 json 노드를 접근할 때 매번 iteration이나 getter를 사용하는 것은 코드가 너무 지저분해져서
 (특히 항목 존재여부나 타입검사를 꼭 해야하는 경우에는 코드가 너무 복잡해진다.)
 []연산자를 사용할 수 있으면 간단하게 처리할 수 있으나 이걸 제대로 구현한 구현체가 없다.

3) comment 를 넣을 수 없는 점
 이것은 직접 구현한 구현체로 해결하고 있다. (https://github.com/nbsdx/SimpleJSON 를 수정해서 comment를 지원하도록 변경)
 하지만 중첩된 lefthand/righthand [] 연산자에 대한 제대로된 지원이 어려워서 공식적인 저장소에 넣지는 못하고 있다.
 c++의 한계일 뿐.
 
4) array 안에 tag:object 쌍을 직접 넣을 수 없는 것.
==> 이게 왜 안되는 지는 전혀 이해가 되지 않는다.

5) 문자열 표현 내에 역슬래쉬 쌍을 써야 하는 것
==> 이건 뭐 이해는 된다. 그래도 뭔가 조금 부족한 느낌.

